{
  "version": 3,
  "file": "ui.css",
  "sources": [
    "../src/ui/HoverMenu.html"
  ],
  "sourcesContent": [
    "<div\n  style=\"top: {pos.top}px; left: {pos.left}px\"\n  class=\"menu{active ? ' active' : ''}{inputMode ? ' input-mode' : ''}\">\n  <div class=\"items\">\n    {#each items as item}\n      {#if item}\n        <button class=\"editor-menu-{item.name}{item.active ? ' active' : ''}\" on:click=\"onClick(item)\" disabled={item.disabled}>\n          <i class=\"typewriter-icon typewriter-{item.icon || item.name}\"></i>\n        </button>\n      {:else}\n        <div class=\"typewriter-separator\"></div>\n      {/if}\n    {/each}\n  </div>\n  <div class=\"link-input\">\n    <input ref:input bind:value=\"href\" on:keydown=\"onKeyDown(event)\" placeholder=\"https://example.com/\">\n    <i on:click=\"set({ inputMode: true,  })\" class=\"close\">Ã—</i>\n  </div>\n</div>\n\n<script>\n  const SOURCE_USER = 'user';\n\n  export default {\n    data() {\n      return {\n        view: null,\n        active: false,\n        inputMode: false,\n        href: '',\n      };\n    },\n\n    computed: {\n      pos: ({ view, range }) => {\n        if (!view || !range) return { top: -100000, left: -100000 };\n        const rect = view.getBounds(range);\n        return {\n          top: rect.top,\n          left: rect.left + rect.width / 2,\n        };\n      },\n\n      items: ({ view, range }) => {\n        if (!view) return [];\n\n        const editor = view.editor;\n        const { blocks, markups } = view.paper;\n        const { header, blockquote } = blocks.types;\n        const { bold, italic, link } = markups.types;\n        const format = editor.getFormat(range);\n        const items = [];\n\n        if (bold) {\n          items.push({\n            name: 'bold',\n            active: format.bold,\n            action: 'onMarkupClick'\n          });\n        }\n\n        if (italic) {\n          items.push({\n            name: 'italic',\n            active: format.italic,\n            action: 'onMarkupClick'\n          });\n        }\n\n        if (link) {\n          items.push({\n            name: 'link',\n            active: format.link,\n            action: 'onLinkClick'\n          });\n        }\n\n        if (items.length && (header || blockquote)) {\n          items.push(null);\n        }\n\n        if (header) {\n          items.push({\n            name: 'header',\n            icon: 'heading1',\n            active: format.header === 2,\n            action: 'onBlockClick',\n            value: 2\n          }, {\n            name: 'header',\n            icon: 'heading2',\n            active: format.header === 3,\n            action: 'onBlockClick',\n            value: 3\n          });\n        }\n\n        if (blockquote) {\n          items.push({\n            name: 'blockquote',\n            active: format.blockquote,\n            action: 'onBlockClick'\n          });\n        }\n\n        return items;\n      }\n    },\n\n    methods: {\n      inputLink() {\n        this.set({ inputMode: true, href: '' });\n        this.refs.input.focus();\n      },\n\n      exitInput() {\n        this.set({ inputMode: false, href: '' });\n      },\n\n      createLink() {\n        let { href, view, range } = this.get();\n        href = href.trim();\n        if (href) {\n          view.editor.formatText(range, { link: href }, SOURCE_USER);\n        }\n        view.focus();\n        this.exitInput();\n      },\n\n      onMarkupClick(item) {\n        const { view, range } = this.get();\n        view.editor.toggleTextFormat(range, { [item.name]: true }, SOURCE_USER);\n        // Re-calculate the position of the menu\n        this.set({ range: range.slice() });\n      },\n\n      onBlockClick(item) {\n        const { view, range } = this.get();\n        view.editor.toggleLineFormat(range, { [item.name]: item.value || true }, SOURCE_USER);\n        // Re-calculate the position of the menu\n        this.set({ range: range.slice() });\n      },\n\n      onLinkClick() {\n        const { view, range } = this.get();\n        if (view.editor.getTextFormat(range).link) {\n          view.editor.formatText(range, { link: null }, SOURCE_USER);\n        } else {\n          this.inputLink();\n        }\n      },\n\n      onHeaderClick(item) {\n        const { view, range } = this.get();\n        if (view.editor.getTextFormat(range).link) {\n          view.editor.formatText(range, { link: null }, SOURCE_USER);\n        } else {\n          this.inputLink();\n        }\n      },\n\n      onClick(item) {\n        if (typeof this[item.action] === 'function') {\n          this[item.action](item);\n        }\n      },\n\n      onKeyDown(event) {\n        if (event.keyCode === 27) {\n          event.preventDefault();\n          this.exitInput();\n        } else if (event.keyCode === 13) {\n          event.preventDefault();\n          this.createLink();\n        }\n      }\n    }\n  }\n</script>\n\n<style>\n  @import url(https://fonts.googleapis.com/icon?family=Material+Icons);\n  .menu {\n    position: absolute;\n    background-image: linear-gradient(to bottom, rgba(49, 49, 47, .99), #262625);\n    border-radius: .25rem;\n    transform: translate(-50%, -100%);\n    opacity: 0;\n    z-index: 10000;\n    margin-top: -7px;\n  }\n  .menu.active {\n    opacity: 1;\n    animation: pop-upwards 180ms forwards linear;\n    transition: top 75ms ease-out, left 75ms ease-out;\n  }\n  .menu::after {\n    content: '';\n    position: absolute;\n    bottom: -13px;\n    left: 50%;\n    margin-left: -7px;\n    border: 7px solid transparent;\n    border-top-color: #262625;\n  }\n  button {\n    height: 42px;\n    line-height: 42px;\n    vertical-align: middle;\n    border: none;\n    padding: 0 8px;\n    color: #fff;\n    background: none;\n    outline: none;\n    cursor: pointer;\n  }\n  button:first-child {\n    padding-left: 14px;\n  }\n  button:last-child {\n    padding-right: 14px;\n  }\n  button.active {\n    color: #74b6ff;\n  }\n  button[disabled] {\n    opacity: .5;\n    cursor: default;\n  }\n  .typewriter-icon {\n    display: inline-block;\n    font-family: 'Material Icons';\n    font-weight: normal;\n    font-style: normal;\n    font-size: 24px;\n    line-height: inherit;\n    letter-spacing: normal;\n    text-transform: none;\n    display: inline-block;\n    white-space: nowrap;\n    word-wrap: normal;\n    direction: ltr;\n    -webkit-font-feature-settings: 'liga';\n    -webkit-font-smoothing: antialiased;\n  }\n  .typewriter-icon.typewriter-bold::before {\n    content: '\\E238';\n  }\n  .typewriter-icon.typewriter-italic::before {\n    content: '\\E23F';\n  }\n  .typewriter-icon.typewriter-link::before {\n    content: '\\E250';\n  }\n  .typewriter-icon.typewriter-heading1::before {\n    content: '\\E264';\n  }\n  .typewriter-icon.typewriter-heading2::before {\n    font-size: .75em;\n    content: '\\E264';\n  }\n  .typewriter-icon.typewriter-blockquote::before {\n    content: '\\E244';\n  }\n  .typewriter-separator {\n    display: inline-block;\n    vertical-align: middle;\n    width: 1px;\n    margin: 0 6px;\n    height: 24px;\n    background: rgba(0, 0, 0, .2);\n    box-shadow: 1px 0 rgba(255, 255, 255, .2);\n  }\n  @keyframes pop-upwards {\n    0% {\n      transform: translate(-50%, -25%) scale(.97, 1);\n      opacity: 0\n    }\n    20% {\n      transform: translate(-50%, -92%) scale(.99, 1);\n      opacity: .7\n    }\n    40% {\n      transform: translate(-50%, -104%) scale(1, 1);\n      opacity: 1\n    }\n    70% {\n      transform: translate(-50%, -100%) scale(1, 1);\n      opacity: 1\n    }\n    100% {\n      transform: translate(-50%, -100%) scale(1, 1);\n      opacity: 1\n    }\n  }\n\n  .link-input {\n    position: absolute;\n    top: 0;\n    width: 100%;\n    height: 100%;\n  }\n  .link-input input {\n    width: 100%;\n    height: 100%;\n    background: none;\n    border: none;\n    color: #f7f7f9;\n    padding: 10px 24px 10px 12px;\n    font-size: .875rem;\n    outline: none;\n    box-sizing: border-box;\n  }\n  .link-input .close {\n    position: absolute;\n    right: 12px;\n    top: 10px;\n    color: #f7f7f9;\n    opacity: .5;\n  }\n  .link-input .close:hover {\n    color: #f7f7f9;\n    opacity: 1;\n  }\n  .menu:not(.input-mode) .link-input {\n    display: none;\n  }\n  .menu.input-mode .items {\n    opacity: 0;\n  }\n</style>\n"
  ],
  "names": [],
  "mappings": "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"
}